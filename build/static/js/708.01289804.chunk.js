"use strict";(self.webpackChunkportfolio_rect_three=self.webpackChunkportfolio_rect_three||[]).push([[708],{1708:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var n=a(1545),i=a(7760),r=a(1902),o=a(2791),s=a(604),h=a(5139),u=a(4357),l=a(184),c=function(t){var e=t.coordinateMapper,a=t.nPerSide,n=void 0===a?10:a,r=t.cubeSideLength,c=void 0===r?.5:r,p=t.cubeSpacingScalar,m=void 0===p?.5:p,v=t.volume,d=void 0===v||v,f=t.colorLut,C=void 0===f?"cooltowarm":f,M=(0,o.useRef)(null),g=(0,o.useMemo)((function(){return new i.Matrix4}),[]),w=d?u.EC.CARTESIAN_3D:u.EC.CARTESIAN_CUBE_FACES;return(0,o.useEffect)((function(){for(var t,e,a,i,r,o=new h.A(C),s=0;s<n;s++)for(var l=0;l<n;l++)for(var c=0;c<n;c++)t=s*Math.pow(n,2)+l*n+c,a=l/(n-1),i=c/(n-1),r=0==(e=s/(n-1))||1==e?Math.hypot(a-.5,i-.5)/u.qP:0==a||1==a?Math.hypot(e-.5,i-.5)/u.qP:0==i||1==i?Math.hypot(e-.5,a-.5)/u.qP:0,M.current.setColorAt(t,o.getColor(r));M.current.instanceColor.needsUpdate=!0})),(0,s.A)((function(t){for(var a,i,r,o,s,h,u,l,p=t.clock.getElapsedTime(),v=n*(1+m)*c,d=0;d<n;d++)for(var f=0;f<n;f++)for(var C=0;C<n;C++)a=d*Math.pow(n,2)+f*n+C,s=v*((i=d/(n-1))-.5),h=v*((r=f/(n-1))-.5),u=v*((o=C/(n-1))-.5),g.setPosition(s,h,u),l=.1+.5*e.map(w,i,r,o,p),g.elements[0]=l,g.elements[5]=l,g.elements[10]=l,M.current.setMatrixAt(a,g);M.current.instanceMatrix.needsUpdate=!0})),(0,l.jsxs)("instancedMesh",{ref:M,castShadow:!0,receiveShadow:!0,args:[new i.BoxGeometry,new i.MeshBasicMaterial,Math.pow(n,3)],children:[(0,l.jsx)("boxGeometry",{attach:"geometry",args:[c,c,c,1]}),(0,l.jsx)("meshBasicMaterial",{attach:"material",color:"#670092",toneMapped:!1})]})},p=function(t){var e=t.coordinateMapper,a=(0,n.M4)({"Visual - Cube":(0,n.so)({nPerSide:{value:10,min:3,max:50,step:1},cubeUnitSideLength:{value:.5,min:.1,max:2,step:.05},cubeUnitSpacingScalar:{value:.1,min:0,max:2,step:.1},volume:!0},{collapsed:!0})}),o=a.nPerSide,s=a.cubeUnitSideLength,h=a.cubeUnitSpacingScalar,u=a.volume;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c,{coordinateMapper:e,nPerSide:o,cubeSideLength:s,cubeSpacingScalar:h,volume:u}),(0,l.jsx)(r.Z,{position:new i.Vector3(0,0,-.75*o*(1+h)*s)})]})}},5139:function(t,e,a){a.d(e,{A:function(){return o}});var n=a(5671),i=a(3144),r=a(7760),o=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;(0,n.Z)(this,t),this.isLut=!0,this.lut=[],this.map=[],this.n=0,this.minV=0,this.maxV=1,this.setColorMap(e,a)}return(0,i.Z)(t,[{key:"set",value:function(t){return!0===t.isLut&&this.copy(t),this}},{key:"setMin",value:function(t){return this.minV=t,this}},{key:"setMax",value:function(t){return this.maxV=t,this}},{key:"setColorMap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;this.map=s[t]||s.rainbow,this.n=e;var a=1/this.n,n=new r.Color,i=new r.Color;this.lut.length=0,this.lut.push(new r.Color(this.map[0][1]));for(var o=1;o<e;o++)for(var h=o*a,u=0;u<this.map.length-1;u++)if(h>this.map[u][0]&&h<=this.map[u+1][0]){var l=this.map[u][0],c=this.map[u+1][0];n.set(this.map[u][1]),i.set(this.map[u+1][1]);var p=(new r.Color).lerpColors(n,i,(h-l)/(c-l));this.lut.push(p)}return this.lut.push(new r.Color(this.map[this.map.length-1][1])),this}},{key:"copy",value:function(t){return this.lut=t.lut,this.map=t.map,this.n=t.n,this.minV=t.minV,this.maxV=t.maxV,this}},{key:"getColor",value:function(t){t=((t=r.MathUtils.clamp(t,this.minV,this.maxV))-this.minV)/(this.maxV-this.minV);var e=Math.round(t*this.n);return this.lut[e]}},{key:"addColorMap",value:function(t,e){return s[t]=e,this}},{key:"createCanvas",value:function(){var t=document.createElement("canvas");return t.width=1,t.height=this.n,this.updateCanvas(t),t}},{key:"updateCanvas",value:function(t){for(var e=t.getContext("2d",{alpha:!1}),a=e.getImageData(0,0,1,this.n),n=a.data,i=0,o=1/this.n,s=new r.Color,h=new r.Color,u=new r.Color,l=1;l>=0;l-=o)for(var c=this.map.length-1;c>=0;c--)if(l<this.map[c][0]&&l>=this.map[c-1][0]){var p=this.map[c-1][0],m=this.map[c][0];s.set(this.map[c-1][1]),h.set(this.map[c][1]),u.lerpColors(s,h,(l-p)/(m-p)),n[4*i]=Math.round(255*u.r),n[4*i+1]=Math.round(255*u.g),n[4*i+2]=Math.round(255*u.b),n[4*i+3]=255,i+=1}return e.putImageData(a,0,0),t}}]),t}(),s={rainbow:[[0,255],[.2,65535],[.5,65280],[.8,16776960],[1,16711680]],cooltowarm:[[0,3952322],[.2,10206463],[.5,14474460],[.8,16163717],[1,11797542]],blackbody:[[0,0],[.2,7864320],[.5,15086080],[.8,16776960],[1,16777215]],grayscale:[[0,0],[.2,4210752],[.5,8355712],[.8,12566463],[1,16777215]]}}}]);
//# sourceMappingURL=708.01289804.chunk.js.map